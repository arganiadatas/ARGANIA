<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>GrÃ¡fico Cotizaciones</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom"></script>
  <style>
    body {
      background: #111;
      color: #fff;
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }
    #chartContainer {
      width: 90%;
      margin: auto;
    }
    button {
      margin-top: 15px;
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      background: #e60073;
      color: white;
      font-size: 14px;
      cursor: pointer;
    }
    button:hover {
      background: #ff3385;
    }
  </style>
</head>
<body>
  <h2>ðŸ“ˆ Cotizaciones (Zoom + Pan)</h2>
  <div id="chartContainer">
    <canvas id="cotChart"></canvas>
  </div>
  <button onclick="resetZoom()">ðŸ”„ Reset Zoom</button>

  <script>
    // Tus cotizaciones en un array
    const cotizaciones = [
      5.00,15.00,39.50,34.51,29.52,24.53,19.53,14.53,9.53,9.03,9.53,9.05,8.55,8.05,
      7.55,7.05,6.55,6.05,5.55,5.05,5.05,5.05,5.04,5.04,5.03,5.03,5.08,5.13,5.18,6.23,
      7.28,8.27,8.27,8.32,8.27,8.22,8.17,8.12,8.07,8.02,7.97,7.92,7.87,7.92,7.87,7.82,
      7.77,7.72,7.67,7.62,7.57,7.52,7.47,7.42,7.37,7.32,7.37,7.42,8.47,9.52,9.47,9.42,
      9.37,9.42,9.47,9.42,9.37,9.32,9.27,9.22,9.17,9.12,9.07,9.02,8.97,8.92,8.87,8.92,
      8.87,8.92,8.97,8.92,8.92,8.92,8.92,8.92,8.92,8.92,11.29,22.71,22.36,24.47,24.22,
      23.61,20.51,19.18,16.85,13.73,10.79,10.78,10.79,10.94,10.59,8.62,9.05,8.87,9.39,
      10.14,11.16,11.61,11.54,8.52,4.89,2.48,2.35,1.85,2.47,2.48,2.49,2.55,2.34,2.40,
      2.56,2.56,2.75,2.87,2.67,4.28,3.44,3.24,3.48,5.27,5.88,4.61,5.14,5.14,5.14,5.14,
      5.14,5.14,5.14,5.15,5.16,5.17,5.18,5.19,5.20,5.22,250.00,250.00,250.00,250.00,
      250.00,250.00,250.00,250.00,250.00,250.00,250.00,250.00,250.00,250.00,250.00,
      312.50,390.63,484.10,510.00,510.00,663.00,700.00,700.00,140.50,148.09,103.01,
      56.06,21.42,280.00,280.00,280.00,280.00,280.00,24.31,19.13,20.94,21.43,21.42,
      39.67,39.67,36.00,36.00,36.00,36.00,36.00,36.00,36.00,36.00,36.00,36.00,36.00,
      38.00,38.00,38.00,38.00,36.00,36.00,36.00,36.00,36.00,36.00,36.00,36.00,38.00,
      38.00,36.00,36.00,36.00,36.00,36.00,36.00,38.00,38.00,40.00,40.00,38.00,19.31,
      18.85,14.64,14.96,52.15,75.43,127.52,116.32,100.00,130.00,100.00,100.00,100.41,
      100.00,75.37,67.31,51.50,55.75,52.38,45.78,40.21,37.01,32.06,39.61,40.53,47.41,
      49.60,50.03,30.00,30.00,31.43,40.00,44.28,66.05,59.67,60.00,58.32,57.69,54.50,
      53.45,52.95,45.62,46.25,45.89,45.76,45.69,45.55,45.10,44.39,43.30,42.48,42.40,
      41.56,42.20,42.15,42.24,42.24,42.19,42.21,42.50,42.50,42.61,42.64
    ];

    // Generar etiquetas automÃ¡ticas (DÃ­a 1, DÃ­a 2, etc.)
    const labels = cotizaciones.map((_, i) => "DÃ­a " + (i + 1));

    const data = {
      labels: labels,
      datasets: [{
        label: "CotizaciÃ³n",
        data: cotizaciones,
        borderColor: "#e60073",
        backgroundColor: "rgba(230,0,115,0.2)",
        tension: 0.2,
        fill: true,
        pointRadius: 0,   // no dibuja todos los puntos (mejor rendimiento)
        pointHoverRadius: 5
      }]
    };

    const config = {
      type: "line",
      data: data,
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          tooltip: {
            callbacks: {
              label: function(context) {
                return " $" + context.formattedValue;
              }
            }
          },
          zoom: {
            zoom: {
              wheel: { enabled: true },
              pinch: { enabled: true },
              mode: "x"
            },
            pan: {
              enabled: true,
              mode: "x"
            }
          }
        },
        scales: {
          x: {
            ticks: { color: "#fff" },
            grid: { color: "rgba(255,255,255,0.1)" }
          },
          y: {
            ticks: { color: "#fff" },
            grid: { color: "rgba(255,255,255,0.1)" }
          }
        }
      }
    };

    const myChart = new Chart(document.getElementById("cotChart"), config);

    function resetZoom() {
      myChart.resetZoom();
    }
  </script>
</body>
</html>
